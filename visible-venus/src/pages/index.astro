---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE, RESUME_URL } from '../consts';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import ihopPic from '../assets/ihopPic.jpg';

const posts = (await getCollection('blog')).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
const latestPost = posts[0];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main>
			<section style="display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2em 1em;">
				<img src={ihopPic.src} alt="Aarav Chowbey" style="width:300px;height:300px;border-radius:50%;object-fit:cover;box-shadow:0 2px 16px rgba(0,0,0,0.07);margin-bottom:1em;" />
				<h1 style="margin-bottom:0.2em;">Welcome to my website!</h1>
				<div style="font-size:1.1em;color:#555;margin-bottom:1.2em;text-align:center;">
					I use this website to post about the projects I am working on. <br>
					Check out my latest post!
				</div>
				{latestPost && (
					<a href={`/blog/${latestPost.id}/`} style="display:block;background:#f1f5f9;border-radius:8px;box-shadow:0 5px 12px rgba(0,0,0,0.07);overflow:hidden;text-decoration:none;color:inherit;max-width:700px;margin:.1em auto;">
						{latestPost.data.heroImage && (
							<img src={latestPost.data.heroImage.src} alt={latestPost.data.title} style="width:100%;height:auto;object-fit:contain;" />
						)}
						<div style="padding:1em;">
							<div style="font-size:1.1em;font-weight:600;">{latestPost.data.title}</div>
							<div style="font-size:0.95em;color:#888;">
								<FormattedDate date={latestPost.data.pubDate} />
							</div>
						</div>
					</a>
				)}
			</section>

			<h2>Future Posts</h2>
			<p>Here are some topics I plan to post about in the future:</p>
			<ul>
				<li>My CI/CD for this site</li>
				<li>A detailed explanation of my server setup</li>
				<li>A DIY macropad I made</li>
				<li>An e-bike conversion kit I made a couple of years ago</li>
				<li>A remotely controlled car I could drive around from a different state</li>
				<li>A project I am working on now for the SPARK program</li>
				<li>A car mount for a Tempest weather station</li>
			</ul>
			<p>
				Let me know if there is anything else you would like to see or if any of the topics I plan to post about are relevant to you. I would be happy to answer any questions you have.
			</p>


			<h3>My Resume</h3>
			<p>
    			You can view or download my resume by clicking 
    			<a href={RESUME_URL} target="_blank" rel="noopener" style="color: #0070f3; text-decoration: underline; font-weight: bold;"> 
					this link
				</a>.
			</p>
		</main>
		<Footer />
	</body>
</html>
</html>
