---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE, RESUME_URL } from '../consts';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import ihopPic from '../assets/ihopPic.jpg';
import { Icon } from 'astro-icon/components';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
const latestPost = posts[0];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			:root{
				--bg:#ffffff;
				--fg:#0f172a;
				--muted:#475569;
				--primary:#2563eb;
				--surface-100:#f8fafc;
				--surface-200:#e2e8f0;
				--radius:10px;
				--radius-btn:8px;
				--shadow-sm:0 2px 6px rgba(0,0,0,.05);
				--shadow-md:0 4px 12px rgba(0,0,0,.08);
			}
			html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
			body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol; line-height:1.6;}
			h1,h2{margin:0 0 .6em}
			.section{max-width:940px;margin:0 auto;padding:2.4em 1.2em;}
			.section-title{font-size:2rem;}
			.text-center{text-align:center;}
			.max-600{max-width:600px;margin:0 auto;}
			.muted{color:var(--muted);}
			/* Hero */
			.hero{display:flex;flex-direction:column;align-items:center;text-align:center;}
			.avatar{width:300px;height:300px;border-radius:50%;object-fit:cover;box-shadow:var(--shadow-md);margin-bottom:1.2em;}
			.headline{font-size:4rem;line-height:1.1;}
			.lead{max-width:640px;font-size:1.05rem;line-height:1.55;color:var(--muted);margin:0 0 1.1em;}
			.actions{display:flex;flex-wrap:wrap;gap:.75em;justify-content:center;}
			/* Buttons */
			.btn{display:inline-block;padding:.65em 1.15em;border-radius:var(--radius-btn);text-decoration:none;font-weight:600;font-size:.95rem;border:1px solid transparent;transition:transform .15s ease, box-shadow .15s ease, background .15s ease;}
			.btn:active{transform:translateY(1px);}
			.btn-primary{background:var(--primary);color:#fff;box-shadow:var(--shadow-sm);}
			.btn-primary:hover{filter:brightness(0.95);}
			.btn-neutral{background:var(--surface-200);color:#111;box-shadow:var(--shadow-sm);}
			.btn-neutral:hover{filter:brightness(0.97);}
			/* Cards */
			.card{display:block;background:var(--surface-100);border-radius:var(--radius);box-shadow:var(--shadow-sm);overflow:hidden;color:inherit;text-decoration:none;transition:transform .2s, box-shadow .2s;}
			.card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);}
			.card-image{width:100%;height:auto;object-fit:contain;display:block;}
			.card-body{padding:1em 1.1em;}
			.post-title{font-size:1.05rem;font-weight:600;margin-bottom:.25em;}
			/* Skills */
			.skills-section .section-title{text-align:center;}
			.skills-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(100px, 1fr));gap:1rem;justify-items:center;}
			.skill-card{display:flex;flex-direction:column;align-items:center;padding:.75rem;background:#fff;border-radius:8px;box-shadow:var(--shadow-sm);transition:transform .2s, box-shadow .2s;width:100%;min-height:110px;}
			.skill-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);}
			.skill-icon{width:64px;height:64px;margin-bottom:.5rem;}
			.skill-name{font-size:1rem;font-weight:500;text-align:center;}
			/* Utilities */
			.link{color:var(--primary);text-decoration:underline;}
			/* Responsive */
			@media (max-width:520px){
				.avatar{width:220px;height:220px;}
				.headline{font-size:2.75rem;}
				.section{padding:2em 1em;}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<!-- Hero / Intro -->
			<section class="section hero">
				<img src={ihopPic.src} alt="Photo of Aarav Chowbey" class="avatar" />
				<h1 class="headline">Aarav Chowbey</h1>
				<p class="lead">
					I'm a junior at Clemson studying Computer Science. I like building projects that interface with hardware, automate tasks, and have business potential.
				</p>
				<div class="actions">
					<a href={RESUME_URL} target="_blank" rel="noopener" class="btn btn-neutral">Resume</a>
					<a href="https://www.linkedin.com/in/aarav-chowbey/" target="_blank" rel="noopener" class="btn btn-neutral">LinkedIn</a>
					<a href="https://github.com/aaravchowbey" target="_blank" rel="noopener" class="btn btn-neutral">GitHub</a>
					<a href="mailto:aaravchowbey@gmail.com" class="btn btn-neutral">Email</a>
				</div>
			</section>

			<!-- Skills -->
			<section class="section skills-section">
				<h2 class="section-title">Skills</h2>
				<div class="skills-grid">
					<div class="skill-card">
						<Icon name="skill-icons:cpp" class="skill-icon" />
						<span class="skill-name">C++</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:python-light" class="skill-icon" />
						<span class="skill-name">Python</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:java-light" class="skill-icon" />
						<span class="skill-name">Java</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:aws-light" class="skill-icon" />
						<span class="skill-name">AWS</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:c" class="skill-icon" />
						<span class="skill-name">C</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:git" class="skill-icon" />
						<span class="skill-name">Git</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:javascript" class="skill-icon" />
						<span class="skill-name">JavaScript</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:bash-light" class="skill-icon" />
						<span class="skill-name">Bash</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:linux-light" class="skill-icon" />
						<span class="skill-name">Linux</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:react-light" class="skill-icon" />
						<span class="skill-name">React</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:cloudflare-light" class="skill-icon" />
						<span class="skill-name">Cloudflare</span>
					</div>
					<div class="skill-card">
						<Icon name="skill-icons:vscode-light" class="skill-icon" />
						<span class="skill-name">VS Code</span>
					</div>
				</div>
			</section>

			<!-- Featured Projects -->
			<!-- <section style="max-width:940px;margin:0 auto 2.4em;padding:0 1.2em;">
				<h2 style="margin:0 0 .6em;font-size:2rem;">Featured Projects</h2>
				<div style="display:grid;gap:1em;">
					<div style="background:#e2e8f0;padding:1em 1.1em;border-radius:10px;">
						<strong>DIY Macropad</strong> - Custom PCB + firmware; streamlined repetitive workflow inputs. <em>Tech:</em> C, Microcontroller (add model)
					</div>
					<div style="background:#e2e8f0;padding:1em 1.1em;border-radius:10px;">
						<strong>Self-Hosted Server Stack</strong> - Hosting services (list a couple) for learning deployment, backups, and networking. <em>Tech:</em> Linux, (add services)
					</div>
					<div style="background:#e2e8f0;padding:1em 1.1em;border-radius:10px;">
						<strong>Remote-Control Car</strong> - Internet-controlled vehicle; focus on latency + reliability. <em>Tech:</em> (Add protocols / boards)
					</div>
				</div>
			</section> -->

			<!-- Latest Blog Post -->
			{latestPost && (
				<section class="section text-center">
					<h2 class="section-title">Latest Blog Post</h2>
					<a href={`/blog/${latestPost.id}/`} class="card">
						{latestPost.data.heroImage && (
							<img src={latestPost.data.heroImage.src} alt={latestPost.data.title} class="card-image" />
						)}
						<div class="card-body">
							<div class="post-title">{latestPost.data.title}</div>
							<div class="muted">
								<FormattedDate date={latestPost.data.pubDate} />
							</div>
						</div>
					</a>
				</section>
			)}

			<!-- Contact -->
			<section class="section text-center">
				<h2 class="section-title">Get In Touch</h2>
				<p class="muted max-600">
					Open to internships, collaboration, and interesting projects. Feel free to reach out.
				</p>
				<p>
					<a href="mailto:aaravchowbey@gmail.com" class="link">Email</a> Â·
					<a href="https://www.linkedin.com/in/aarav-chowbey/" target="_blank" rel="noopener" class="link">LinkedIn</a>
				</p>
			</section>
		</main>
		<Footer />
	</body>
</html>
